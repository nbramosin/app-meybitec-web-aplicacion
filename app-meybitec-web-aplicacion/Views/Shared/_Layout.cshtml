<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Principal - meybitec.com.pe</title>
    <link rel="icon" type="image/x-icon" href="~/Content/images/logo-maybitec.jpeg" />
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/modernizr-2.8.3.js"></script>

    <style>
        /* Estilos CSS Básicos */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .wrapper {
            display: flex;
            flex: 1;
        }

        .sidebar {
            width: 250px;
            background-color: #333;
            color: white;
            padding: 0px;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            background-color: #FFFFFF; /*#F1F1F1;*/
        }

        footer {
            border-top: 3px solid #fce6e8; /*#ca5568;*/
            background-color: #ca5568; /*#2e353d;*/
            color: white;
            text-align: center;
            padding: 10px;
            margin-top: auto;
        }
        /*.nav-item.active {
            background-color: #ca5568 !important;
            color: #fff;
            font-weight: 600;
        }*/

    </style>
</head>
<body>
    <div class="wrapper">
        <!-- Menú Lateral -->
        <aside class="sidebar">
            <div class="nav-side-menu">
                <div class="tasi">
                    <div style="padding: 6px 20px; background: #ca5568">
                        <label class="form-label" style="color: #e1ffff">Bienvenido: <strong>@ViewBag.Nombre</strong> </label>
                    </div>
                    <div class="brand">
                        <img src="~/Content/images/logo-maybitec.jpeg" width="200">
                    </div>
                </div>
                <i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>

                <div class="menu-list">
                    <nav>
                        <ul id="menu-content" class="menu-content collapse out mb-4">
                            <li class="nav-item @(ViewBag.MenuActivo == "mnuproducto" ? "active": "")">
                                @Html.ActionLink("Producto", "Producto", "Vista", new { area = "" }, new { @class = "nav-link js-scroll-trigger" })
                            </li>
                            @*<li class="nav-item @(ViewBag.MenuActivo == "mnumarcas" ? "active": "")">
                                @Html.ActionLink("Marcas", "Marcas", "Vista", new { area = "" }, new { @class = "nav-link js-scroll-trigger" })
                            </li>
                            <li class="nav-item @(ViewBag.MenuActivo == "mnumodelos" ? "active": "")">
                                @Html.ActionLink("Modelos", "Modelos", "Vista", new { area = "" }, new { @class = "nav-link js-scroll-trigger" })
                            </li>
                            <li class="nav-item @(ViewBag.MenuActivo == "mnucategorias" ? "active": "")">
                                @Html.ActionLink("Categorias", "Categorias", "Vista", new { area = "" }, new { @class = "nav-link js-scroll-trigger" })
                            </li>*@
                            <li class="nav-item @(ViewBag.MenuActivo == "mnupersona" ? "active": "")">
                                @Html.ActionLink("Persona", "Persona", "Vista", new { area = "" }, new { @class = "nav-link js-scroll-trigger" })
                            </li>
                            <li class="nav-item @(ViewBag.MenuActivo == "mnuespecificaciones" ? "active": "")">
                                @Html.ActionLink("Especificaciones", "Especificaciones", "Vista", new { area = "" }, new { @class = "nav-link js-scroll-trigger" })
                            </li>
                        </ul>
                    </nav>
                    <div style="text-align: center;">
                        <button id="btnSalir" class="btn btn-outline-danger"> Cerrar Sesión</button>
                    </div>
                </div>
            </div>
        </aside>
        <!-- Contenido Principal -->
        <main class="main-content">
            @RenderBody()
        </main>
    </div>

    <!-- Pie de página -->
    <footer>
        <p style="margin-bottom: 0; margin-top: 0px">© 2026 meybitec.com.pe todo los derechos reservados.</p>
        <p style="margin-bottom: 0">Desarrollado por: Nilton Ramos</p>
    </footer>
    <script src="~/Scripts/jquery-3.7.1.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>

    <!-- Contenedor Principal (Sidebar + Content) -->
    <script>
        const btnSalir = document.getElementById("btnSalir");

        if (btnSalir) {
            console.log("Validación btnSalir: ", btnSalir)
            btnSalir.addEventListener("click", CerrarSession);
        }

        async function CerrarSession() {
            await fetch("/Principal/Logout", {
                method: "POST"
            });

            window.location.href = "/Login/Index";
        }
    </script>
</body>
</html>